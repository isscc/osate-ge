<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "../docbook-xml-4.5/docbookx.dtd">

<book>
	<title>OSATE Graphical Editor User Guide</title>
	<bookinfo>
		<title>OSATE Graphical Editor User Guide</title>
	</bookinfo>
	<chapter>
		<title>Getting Started</title>
		<para>The OSATE Graphical Editor allows viewing and manipulating AADL declarative models in a graphical way.</para>
		<section>
			<title>Creating a new AADL Package </title>
			<para>A new AADL package and an associated diagram can be created by using a wizard.</para>
			<orderedlist>
				<listitem>
					<para>Open the new file dialog by selecting <emphasis>File->New->Other...</emphasis></para>
				</listitem>
				<listitem>
					<para>Select <emphasis>Aadl Package (Graphical)</emphasis> and click <emphasis>Next.</emphasis></para>
					<imageobject>
    				<imagedata fileref="images/AadlPackage(Graphical).png" format="PNG"/>
  				</imageobject>
				</listitem>
				<listitem>
					<para>Enter a name for the new package.</para>
					<imageobject>
    				<imagedata fileref="images/AadlPackageName.png" format="PNG"/>
  				</imageobject>
				</listitem>
				<listitem>
					<para>Select the AADL Project to create the package inside.</para>
				</listitem>
				<listitem>
					<para>Select <emphasis>Finish</emphasis>.</para>
				</listitem>
			</orderedlist>
			<para>The new package will appear in the graphical editor.</para>
		</section>
		<section>
			<title>Opening an Existing AADL Model</title>
			<para>An existing AADL model can be opened in the graphical editor. Changes made to either the AADL source or the diagram will be reflected in the other.</para>
			<orderedlist>
				<listitem>
					<para>Open an existing AADL source file.</para>
				</listitem>
				<listitem>
					<para>Right click the AADL package or component in the <emphasis>Outline</emphasis> view.</para>
				</listitem>
				<listitem>
					<para>Select <emphasis>Open Diagram</emphasis> to open the diagram for the selected classifier.  If a classifier is not selected, <emphasis>Open Diagram</emphasis> opens the package diagram for the selected package.  The diagram will be created if one does not already exist. The appropriate diagram will appear in the graphical editor.</para>
				</listitem>
				<listitem>
					<para>You can also use the keyboard shortcut <emphasis><emphasis role="bold">Ctrl+Shift+V</emphasis></emphasis> to switch between the selected element in the diagram and the selected element in the source file.</para>
				</listitem>
			</orderedlist>
		</section>
	</chapter>
	
	<chapter>
		<title>Navigating Between Diagrams</title>
		<para>The graphical editor supports navigating between related diagrams in several ways.</para>
		<section>
			<title>Opening an Associated Diagram</title>
			<para>Diagrams associated with a particular element can be opened by double-clicking on the model element. For example, double-clicking a classifier inside a package diagram will open that classifier's diagram. Alternatively, the associated diagram can be open by right-clicking on the element and selecting <emphasis>Open Associated Diagram</emphasis> from the context menu.</para>
				<imageobject>
    				<imagedata fileref="images/OpenAssociatedDiagram.png" format="PNG"/>
  				</imageobject>
		</section>
		<section>
			<title>Opening an Element's Package Diagram</title>
			<para>When viewing a diagram, the package diagram associated with an element can be opened by right-clicking inside the diagram or element and selecting <emphasis>Go to Package Diagram</emphasis> from the context menu.</para>
			<imageobject>
    			<imagedata fileref="images/GoToPackageDiagram.png" format="PNG"/>
  			</imageobject>
		</section>
		<section>
			<title>Opening the Type Diagram for a Component Implementation</title>
			<para>When viewing a component implementation diagram, the diagram for the component implementation's type can be opened by right-clicking inside the diagram and selecting <emphasis>Go to Type Diagram</emphasis> from the context menu.</para>
			<imageobject>
    			<imagedata fileref="images/GoToTypeDiagram.png" format="PNG"/>
  			</imageobject>
		</section>
	</chapter>
		
	<chapter>
		<title>Editing AADL Models</title>
		<para>The graphical editor allows editing AADL models graphically. As changes are made to the diagram, the AADL model is updated automatically. Additionally, as the textual AADL model is editing using OSATE, the diagram is updated to reflect changes.</para>		
		<section>
			<title>Basics</title>
			<para>Many of the operations in the graphical editor apply to multiple types of elements.</para>
			<section>
				<title>Deleting</title>
				<para>An element can be deleted from the AADL model by selecting it and pressing the <emphasis><emphasis role="bold">Delete</emphasis></emphasis> key. An element can also be deleted by right-clicking on it and selecting <emphasis>Delete</emphasis> from the context menu.</para>
				<imageobject>
    				<imagedata fileref="images/Delete.png" format="PNG"/>
  				</imageobject>
				<para>Elements can only be deleted when viewing the element which contains it. For example, a feature defined in a system type cannot be deleted while editing the diagram of a system implementation.</para>
			</section>
			<section>
				<title>Renaming</title>
				<para>An element can be renamed using the graphical editor.</para>
				<orderedlist>
					<listitem>
						<para>Select the item to be renamed.</para>
					</listitem>
					<listitem>
						<para>Click the name label. An editable field will appear.</para>
						<imageobject>
    						<imagedata fileref="images/Renaming.png" format="PNG"/>
  						</imageobject>
					</listitem>
					<listitem>
						<para>Adjust the name as desired.</para>
					</listitem>
					<listitem>
						<para>Press the <emphasis><emphasis role="bold">Enter</emphasis></emphasis> key.</para>
					</listitem>
				</orderedlist>
				<para>Elements can only be renamed when viewing the element which contains it. For example, a feature defined in a system type cannot be renamed while editing the diagram of a system implementation.</para>
			</section>
			<section>
				<title>Refining</title>
				<para>Appropriate elements can be refined by right-clicking on them and selecting <emphasis>Refine</emphasis> from the context menu. Once an element is refined. Deleting a refined element will only delete the refinement.</para>
			</section>
			<section>
				<title>Instantiating</title>
				<para>Appropriate elements can be instanstiated by right-clicking on them and selecting <emphasis>Instantiate</emphasis> from the context menu.  The instance will be created in that projects <emphasis>instances</emphasis> folder in the AADL Navigator.</para>
				<imageobject>
    				<imagedata fileref="images/Instantiate.png" format="PNG"/>
  				</imageobject>
			</section>
			<section>
				<title>Editing Property Associations</title>
				<para>Property associations can be edited using OSATE's <emphasis>AADL Property Values</emphasis> view. Selecting an element in the diagram updates the view to show property values for that element.</para>
			</section>
			<section>
				<title>Moving Shapes Using Arrow Keys</title>
				<orderedlist>
					<listitem>
						<para>Select the item to be moved.</para>
					</listitem>
					<listitem>
						<para>Press the <emphasis><emphasis role="bold">.</emphasis></emphasis> key.</para>
					</listitem>
					<listitem>
						<para>Using the <emphasis><emphasis role="bold">Arrow</emphasis></emphasis> keys, move the item to desired location.</para>
					</listitem>
					<listitem>
						<para>Press the <emphasis><emphasis role="bold">Enter</emphasis></emphasis> key.</para>
					</listitem>
				</orderedlist>
			</section>
			<section>
				<title>Performing Diagram Layout</title>
				<para>When creating a new diagram from an AADL model, the editor lays out the diagram automatically. The layout of the diagram can be redone by right clicking inside the diagram and select <emphasis>Layout Diagram</emphasis>. Doing so will adjust the positions of all the shapes in the diagram.</para>
				<imageobject>
    				<imagedata fileref="images/LayoutDiagram.png" format="PNG"/>
  				</imageobject>
			</section>
			<section>
			<title>Nesting Views</title>
			<para>Components can have multiple layers of nested subcomponents.  These nested layers make up the components depth level.  The graphical editor allows the content of a component and all nested subcomponents to be graphically represented on one diagram.</para>
			<!--<section>-->
				<!--<title>Setting Nested Depth Level</title>-->
				<para>A components depth level can be set to hide or show the contents of the subcomponents up to the specified depth level.  Anything below the specified depth level are hidden from view on the appropriate diagram.  The elements still exist and are not deleted when hidden on the diagram.</para>
				<section>
					<title>Using the Increase and Decrease Nesting Depth Buttons to Select a Depth Level</title>
					<orderedlist>
						<para>Nesting depth level can be set using the Increase and Decrease Nesting Depth buttons on the toolbar.</para>
						<listitem>
							<para>To increase the nesting depth, select an appropriate element and click the Increase Nesting Depth button.</para>
						</listitem>
						<listitem>
							<para>To decrease the nesting depth, select an appropriate element and click the Decrease Nesting Depth button.</para>
						</listitem>
					</orderedlist>
				</section>
				<section>
					<title>Using the Depth Selector Drop-Down to Select a Depth Level</title>
					<orderedlist>
					<para>Nesting depth level can be set using the depth selector on the toolbar.</para>
						<listitem>
							<para>Select an appropriate element.</para>
						</listitem>
						<listitem>
							<para>Click the depth selector drop-down.</para>
						</listitem>
						<listitem>
							<para>Select the preferred depth level.</para>
						</listitem>
					</orderedlist>
				</section>
			<!--</section>-->
		</section>
		</section>
		<section>
			<title>Classifiers</title>
			<para>The graphical editor allows editing AADL classifiers such as component types, component implementations, and feature groups.</para>
			<section>
				<title>Creating</title>
				<para>When viewing a package diagram, classifiers can be created by using the palette.</para>
				<orderedlist>
					<listitem>
						<para>Open a package diagram.</para>
					</listitem>
					<listitem>
						<para>Drag the appropriate classifier type from the palette onto the diagram.</para>
						<imageobject>
    						<imagedata fileref="images/Palette.png" format="PNG"/>
  						</imageobject>
					</listitem>
					<listitem>
						<para>If a component implementation was dropped onto the diagram, select the classifier for the implementation to implement or extend.</para>
					</listitem>
				</orderedlist>
			</section>
			<section>
				<title>Extending</title>
				<para>The editor allows classifier extensions to be specified in the package view. That is, the editor allows the specification of type extensions and implementation relationships.</para>
				<section>
					<title>Using the Palette to Extend a Classifier</title>
					<orderedlist>
						<listitem>
							<para>While editing a package diagram, select <emphasis>Extension</emphasis> from the Palette.</para>
						</listitem>
						<listitem>
							<para>Click on the classifier which will be the extension.</para>
						</listitem>
						<listitem>
							<para>Click the classifier that is being extended. An arrow will now appear. The type of arrow is determined whether the extension is an implementation or type extension.</para>
						</listitem>
					</orderedlist>
				</section>
				<section>
					<title>Using the Context Menu to Set Extended Classifier</title>
					<para>Specifying an extension using the context menu allows extending classifiers in other packages.</para>
					<orderedlist>
						<listitem>
							<para>Right-click on the classifier which will be the extension and select <emphasis>Set Extended Classifier...</emphasis> from the context menu.</para>
						</listitem>
						<listitem>
							<para>Select the classifier to extend.</para>
							<imageobject>
    							<imagedata fileref="images/SetExtendedClassifier.png" format="PNG"/>
  							</imageobject>
						</listitem>
						<listitem>
							<para>Select <emphasis>OK</emphasis>. The appropriate arrow indicating the extension will appear.</para>
						</listitem>
					</orderedlist>
				</section>
			</section>
			<section>
				<title>Performing Update Layout from Classifier Diagram</title>
				<para>When extending a classifier, the editor lays out the extending classifier diagram automatically.  The layout of the extending classifier diagram can be redone to match the extended classifier diagram by right clicking the extending claissifier diagram and selecting <emphasis>Perform Update Layout from Classifier Diagram</emphasis> from the context menu.  Doing so will change the height, width, and layout of elements of the extending classifier to match the extended classifier.</para>
			</section>
		</section>
		<section>
			<title>Features</title>
			<para>The editor allows editing AADL features. Features may be displayed on the left or the right of their container.</para>
			<section>
				<title>Creating</title>
				<para>Features can be created by using the palette.</para>
			</section>
			<section>
				<title>Setting the Feature Classifier</title>
				<para>The classifier can be set on features such as feature groups, data ports, and access features. Set the classifier by right clicking on the feature and selecting <emphasis>Set Classifier...</emphasis> from the context menu.</para>
				<imageobject>
    				<imagedata fileref="images/SetClassifier.png" format="PNG"/>
  				</imageobject>
			</section>
			<section>
				<title>Setting the Feature Direction (Directional Features Only)</title>
				<para>To set the direction of a directional feature, right-click on the feature and select <emphasis>Set Direction to In</emphasis>, <emphasis>Set Direction to Out</emphasis>, or <emphasis>Set Direction to In and Out</emphasis> from the context menu after setting the feature group's classifier.</para>
			</section>
			<section>
				<title>Setting Access Kind (Access Features Only)</title>
				<para>To set the direction of an access feature, right-click on the feature and select <emphasis>Set Kind to Provides</emphasis> or <emphasis>Set Kind to Requires</emphasis> from the context menu.</para>
			</section>
			<section>
				<title>Setting a Feature Group as Inverse</title>
				<para>To set a feature group as either the inverse of or not the inverse of the selected feature group type, right-click on the feature group and select <emphasis>Set to Inverse</emphasis> or <emphasis>Set to Not Inverse</emphasis> from the context menu.</para>
			</section>
		</section>
			<section>
			<title>Subcomponents</title>
			<para>The graphical editor allows editing subcomponents when viewing a component implementation diagram.</para>
			<section>
				<title>Creating</title>
				<para>When viewing a component implementation diagram, a subcomponent can be creating by using the palette. Drag the appropriate subcomponent type from the palette to the desired location. A new subcomponent will appear.</para>
			</section>
			<section>
				<title>Setting the Classifier</title>
				<para>Select the subcomponent classifier by right-clicking on the subcomponent and selecting <emphasis>Set Classifier...</emphasis> from the context menu. After selecting the classifier, the subcomponent will be updated to show the appropriate features.</para>
				<imageobject>
    				<imagedata fileref="images/SetClassifierSubComponent.png" format="PNG"/>
  				</imageobject>
			</section>
			<section>
				<title>Setting Modes</title>
				<para>To set the modes in which subcomponents are active, see <xref linkend="modes_configuring_in_modes"/>.</para>
			</section>		
		</section>
		<section>
			<title>Flows</title>
			<para>The graphical editor support creating and editing flow specifications, flow implementations, and end-to-end flows.</para>
			<section>
				<title>Creating Flow Sources</title>
				<para>Flow sources can be created when editing a component type. Create the flow source by right-clicking on an appropriate feature and selecting <emphasis>Create Source</emphasis> from the context menu. The new flow source will appear.</para>
			</section>
			<section>
				<title>Creating Flow Sinks</title>
				<para>Flow sources can be created when editing a component type. Create the flow source by right-clicking on an appropriate feature and selecting <emphasis>Create Sink</emphasis> from the context menu. The new flow sink will appear.</para>
				<imageobject>
    				<imagedata fileref="images/CreateSource.png" format="PNG"/>
  				</imageobject>
			</section>
			<section>
				<title>Creating Flow Paths</title>
				<para>When editing a component type, flow paths can be created using the palette.</para>
				<orderedlist>
					<listitem>
						<para>Select <emphasis>Flow Path</emphasis> from the palette.</para>
					</listitem>
					<listitem>
						<para>Click the feature to use as the start of the flow path.</para>
					</listitem>
					<listitem>
						<para>Click the feature to use as the end of the path. The new flow path will appear.</para>
					</listitem>
				</orderedlist>
			</section>
			<section>
				<title>Editing Flow Implementations and End-to-End Flows</title>
				<para>When editing a component implementation, flow implementations and end-to-end flow can be edited using the flow editor. It can be accessed by right-clicking in the diagram and selecting <emphasis>Edit Flows...</emphasis> from the context menu.</para>
				<imageobject>
    				<imagedata fileref="images/EditFlows.png" format="PNG"/>
  				</imageobject>
			</section>
			<section>
				<title>Highlighting Flow Implementations and End-to-End Flows</title>
				<para>Selecting a flow implementation or end-to-end flow from the flow drop-down in the toolbar will highlight the flow.</para>
			</section>
		</section>
		<section>
			<title>Modes</title>
			<para>The graphical editor allows editing the modes and mode transitions defined in the AADL model.</para>
			<section>
				<title>Creating Modes</title>
				<para>When editing a component type, modes can be created by selecting <emphasis>Mode</emphasis> from the palette.</para>
			</section>
			<section>
				<title>Setting the Initial Mode</title>
				<para>A mode can be designated as the initial mode by right-clicking on it and selecting <emphasis>Change to Initial Mode</emphasis> from the context menu.</para>
			</section>
			<section>
				<title>Creating Mode Transitions</title>
				<para>Mode transitions can be created using the palette.</para>
				<orderedlist>
					<listitem>
						<para>Select <emphasis>Mode Transition</emphasis> from the palette.</para>
					</listitem>
					<listitem>
						<para>Click the starting mode.</para>
					</listitem>
					<listitem>
						<para>Click the destination mode. The <emphasis>Select Trigger Ports</emphasis> dialog will appear.</para>
						<imageobject>
    						<imagedata fileref="images/PortTriggerDialog.png" format="PNG"/>
  						</imageobject>
					</listitem>
					<listitem>
						<para>Select the ports to use as the triggers for the transition. Multiple ports can be selected by holding down <emphasis>Ctrl</emphasis>.</para>
					</listitem>
					<listitem>
						<para>Select <emphasis>OK</emphasis>. The new mode transition will appear.</para>
					</listitem>
				</orderedlist>
			</section>
			<section>
				<title>Setting Mode Transition Triggers</title>
				<para>A mode transition's trigger ports can be modified by right-clicking on the mode transition and selecting <emphasis>Set Mode Transition Triggers...</emphasis> from the context menu.</para>
			</section>
			<section>
				<title>Switching Between Derived and Non-derived Modes</title>
				<para>The editor allows specifying whether modes declared inside the component type are derived from its containing component. The usage of derived modes corresponds to a component type with a <emphasis>requires modes</emphasis> declaration while non-derived modes correspond to a component type with a <emphasis>modes</emphasis> declaration. </para>
				<para>The component type can be swapped between using derived and non-derived modes by right-clicking inside the component type and selecting <emphasis>Change to Derived Modes</emphasis> or <emphasis>Change to Non-derived Modes</emphasis> from the context menu.</para>
			</section>
			<section>
				<title>Highlighting</title>
				<para>Selecting a mode from the mode drop-down in the toolbar will highlight elements applicable to the mode.</para>
			</section>
			<section id="modes_configuring_in_modes">
				<title>Selecting Active Components</title>
				<para>The editor allows specifying the modes in which a modal element, such as a subcomponent, is active as well as the mapping between modes in the case of derived modes. The modes can be specified by right-clicking on the element and selecting <emphasis>Configure In Modes...</emphasis> from the context menu.</para>
			</section>
		</section>
		<section>
			<title>Bindings</title>
			<section>
				<title>Creating Bindings</title>
				<para>When viewing a component implementation diagram, a binding can be created for appropriate subcomponents.</para>
			</section>
			<section>
				<title>Setting Bindings</title>
				<section>
					<title>Using the Context Menu to Set Bindings</title>
					<orderedlist>
						<listitem>
							<para>Right click on the appropriate subcomponent.</para>
						</listitem>
						<listitem>
							<para>Select <emphasis>Bind...</emphasis> from the context menu.</para>
						</listitem>
						<listitem>
							<para>From the Bind dialog, select a binding property from the drop-down menu.</para>
							<imageobject>
    						<imagedata fileref="images/Bindings.png" format="PNG"/>
  							</imageobject>
						</listitem>
						<listitem>
							<para>Click one or more elements from the diagram to bind to subcomponent.</para>
						</listitem>
						<listitem>
							<para>Click <emphasis>OK</emphasis>.</para>
						</listitem>
					</orderedlist>
				</section>
				<section>
					<title>Using the Toolbar to Set Bindings</title>
					<orderedlist>
						<listitem>
							<para>Click on the appropriate subcomponent.</para>
						</listitem>
						<listitem>
							<para>Click the Bind... button from the toolbar.</para>
						</listitem>
						<listitem>
							<para>From the Bind dialog, select a binding property from the drop-down menu.</para>
							<imageobject>
    							<imagedata fileref="images/Bindings.png" format="PNG"/>
  							</imageobject>
						</listitem>
						<listitem>
							<para>Click one or more elements from the diagram to bind to a subcomponent.</para>
						</listitem>
						<listitem>
							<para>Click <emphasis>OK</emphasis>.</para>
						</listitem>
					</orderedlist>
				</section>
			</section>
			<section>
				<title>Bindings Diagram Properties</title>
				<para>Bindings can be hidden or shown from diagrams by checking and unchecking the appropriate settings in the bindings properties view.  By default, bindings will show up on all appropriate diagrams.</para>
				<orderedlist>
					<listitem>
						<para>Left-click the empty space outside of the elements in a diagram.</para>
					</listitem>
					<listitem>
						<para>In the properties view, check/uncheck the bindings to show/hide them on the diagram.  The bindings still exist and are not deleted when hidden on the diagram.</para>
						<imageobject>
    							<imagedata fileref="images/BindingProperties.png" format="PNG"/>
  						</imageobject>
					</listitem>
				</orderedlist>
			</section>
		</section>	
	</chapter>
	<chapter>
		<title>Troubleshooting</title>
		<para>The following section contains solutions to known issues as well as instructions for reporting problems with the graphical editor.</para>
		<section>
			<title>Build Automatically</title>
			<para><emphasis>Project->Build Automatically</emphasis> must be enabled. If it is not enabled, the graphical editor will not function properly.</para>
			<imageobject>
    			<imagedata fileref="images/BuildAutomatically.png" format="PNG"/>
  			</imageobject>
		</section>
		<section>
			<title>Updating a Diagram</title>
			<para>In most cases the graphical editor will automatically update diagrams to reflect changes to the AADL Model. If a diagram has not been updated for any reason, it can be updated manually by right-clicking inside an empty area of the diagram and selecting <emphasis>Update</emphasis> from the context menu.</para>
			<imageobject>
    			<imagedata fileref="images/LayoutDiagram.png" format="PNG"/>
  			</imageobject>
		</section>
		<section>
			<title>Reporting Bugs</title>
			<para>Bugs should be reported to the issue tracker on the graphical editor's <ulink url="https://github.com/osate/osate-ge">GitHub Site</ulink>.</para>
		</section>
	</chapter>
</book>
